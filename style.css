/* =========  Deep Sky & Quartz Theme CSS  ========= */

/* ---------- 0. theme tokens ---------- */
:root{
  /* Quartz Theme (Light) - 石英の透明感と温かみ */
  --bg:#fdfcfa;        /* warm white */
  --surf:#ffffff;      /* pure white */
  --surf-2:#f7f5f3;    /* soft beige */
  --border:#e8e5e1;    /* warm gray */
  --txt:#2d2b28;       /* charcoal */
  --txt-2:#6b6762;     /* muted brown */
  
  /* quartz accent - warm amber gold */
  --accent:#d97706;    /* amber */
  --accent-h:#b45309;  /* deeper amber */
  
  /* functional colors */
  --good:#059669;
  --bad:#dc2626;
  --warn:#d97706;
  
  --r:8px;
  --sp:clamp(8px,2vw,14px);
  --sh-s:0 1px 3px rgba(0,0,0,.06);
  --sh-m:0 4px 12px rgba(0,0,0,.1);
}

/* Deep Sky Theme (Dark) - 深い空の神秘性 */
@media(prefers-color-scheme:dark){
  :root{
    --bg:#0c1420;       /* deep night sky */
    --surf:#162332;     /* darker sky */
    --surf-2:#1e2a3a;   /* cloud layer */
    --border:#2a3441;   /* storm clouds */
    --txt:#e2e8f0;      /* moonlight */
    --txt-2:#94a3b8;    /* starlight */
    
    /* deep sky accent - bright sky blue */
    --accent:#0ea5e9;   /* sky blue */
    --accent-h:#0284c7;  /* deeper sky */
    
    --good:#10b981;
    --bad:#ef4444;
    --warn:#f59e0b;
    
    --sh-s:0 2px 4px rgba(0,0,0,.4);
    --sh-m:0 8px 24px rgba(0,0,0,.5);
  }
}

[data-theme="dark"]{@media(prefers-color-scheme:light){:root{color-scheme:dark;}}}

/* ---------- 1. reset & base ---------- */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px;line-height:1.6;-webkit-text-size-adjust:100%}
body{
  font-family:"SF Pro Display","Inter","Noto Sans JP",system-ui,sans-serif;
  background:var(--bg);color:var(--txt);min-height:100vh;
  display:flex;flex-direction:column;align-items:center;
  padding:var(--sp);transition:all .4s ease;
}

/* ---------- 2. theme toggle ---------- */
.theme-toggle{
  position:fixed;top:var(--sp);right:var(--sp);z-index:1000;
  background:var(--surf);border:1px solid var(--border);color:var(--txt);
  padding:8px 12px;border-radius:var(--r);cursor:pointer;
  font-size:.8rem;font-weight:500;backdrop-filter:blur(8px);
  box-shadow:var(--sh-s);transition:all .3s;
  user-select:none;touch-action:manipulation;
}
.theme-toggle:hover{
  background:var(--surf-2);box-shadow:var(--sh-m);
  transform:translateY(-2px);
}

/* ---------- 3. typography ---------- */
h1{
  font-size:clamp(1.8rem,5vw,2.4rem);font-weight:700;
  margin-bottom:var(--sp);letter-spacing:-.02em;
  background:linear-gradient(135deg,var(--accent),var(--accent-h));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
}
h2{
  font-size:clamp(1.2rem,4vw,1.5rem);font-weight:600;
  margin-bottom:calc(var(--sp)/2);letter-spacing:-.01em;
  color:var(--txt);position:relative;
}
h2::after{
  content:'';position:absolute;bottom:-4px;left:0;
  width:40px;height:2px;background:var(--accent);border-radius:1px;
}

/* ---------- 4. layout ---------- */
.container{width:100%;max-width:840px;display:flex;flex-direction:column;gap:var(--sp)}
section{
  background:var(--surf);border:1px solid var(--border);
  border-radius:calc(var(--r)*1.5);padding:calc(var(--sp)*1.2);
  box-shadow:var(--sh-s);backdrop-filter:blur(8px);
  transition:all .3s ease;position:relative;overflow:hidden;
}
section::before{
  content:'';position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--accent),transparent);
  opacity:.5;
}
section:hover{
  box-shadow:var(--sh-m);transform:translateY(-3px);
  border-color:color-mix(in srgb,var(--accent) 30%,var(--border));
}

/* ---------- 5. buttons ---------- */
.btn{
  display:inline-flex;justify-content:center;align-items:center;
  width:100%;min-height:46px;padding:12px 20px;
  border:none;border-radius:var(--r);cursor:pointer;
  font-size:clamp(.95rem,3.5vw,1.05rem);font-weight:600;
  background:linear-gradient(135deg,var(--accent),var(--accent-h));
  color:#fff;position:relative;overflow:hidden;
  transition:all .3s ease;user-select:none;touch-action:manipulation;
  box-shadow:0 4px 12px color-mix(in srgb,var(--accent) 25%,transparent);
}
.btn::before{
  content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);
  transition:left .6s ease;
}
.btn:hover::before{left:100%}
.btn:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 24px color-mix(in srgb,var(--accent) 35%,transparent);
}
.btn:active{transform:translateY(0)}
.btn.good{background:linear-gradient(135deg,var(--good),color-mix(in srgb,var(--good) 85%,#000))}
.btn.bad{background:linear-gradient(135deg,var(--bad),color-mix(in srgb,var(--bad) 85%,#000))}
.btn.warn{background:linear-gradient(135deg,var(--warn),color-mix(in srgb,var(--warn) 85%,#000))}

/* ---------- 6. tables ---------- */
.table-wrap{
  overflow:auto;border:1px solid var(--border);
  border-radius:calc(var(--r)*1.5);backdrop-filter:blur(8px);
}
table{
  width:100%;border-collapse:collapse;
  font-size:.85rem;font-variant-numeric:tabular-nums;
}
th,td{padding:8px 10px;text-align:center;border:1px solid var(--border)}
thead th{
  background:linear-gradient(135deg,var(--accent),var(--accent-h));
  color:#fff;position:sticky;top:0;z-index:1;font-weight:600;
}
tbody tr:nth-child(even){
  background:color-mix(in srgb,var(--surf-2) 50%,transparent);
}
tbody tr:hover{
  background:color-mix(in srgb,var(--accent) 8%,var(--surf));
  transform:scale(1.01);transition:all .2s ease;
}
.player-col{
  position:sticky;left:0;min-width:70px;font-weight:600;
  background:var(--surf-2);
}

/* ---------- 7. scrollbar ---------- */
::-webkit-scrollbar{width:8px;height:8px}
::-webkit-scrollbar-track{background:var(--surf-2);border-radius:4px}
::-webkit-scrollbar-thumb{
  background:linear-gradient(135deg,var(--accent),var(--accent-h));
  border-radius:4px;
}
::-webkit-scrollbar-thumb:hover{
  background:linear-gradient(135deg,var(--accent-h),var(--accent));
}

/* ---------- 8. responsive ---------- */
@media(max-width:480px){
  body{padding:calc(var(--sp)/2)}
  .container{gap:calc(var(--sp)/2)}
  section{padding:var(--sp)}
  table{font-size:.75rem}
  .theme-toggle{top:calc(var(--sp)/2);right:calc(var(--sp)/2)}
}
